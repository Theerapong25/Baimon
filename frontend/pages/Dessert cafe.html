<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dilly Lazy: Cafe & Restaurant</title>
    <style>
        :root {
            --bg: #f4f4f9;
            --card: #fff;
            --muted: #666;
            --ink: #333;
            --brand: #B95E82;
            --brand-100: #f9c1e0;
            --brand-200: #e88bc1;
            --ring: #eaeaea;
        }

        * {
            box-sizing: border-box
        }

        body {
            font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
            background: var(--bg);
            margin: 0;
            color: var(--ink);
        }

        .cafe-detail {
            width: min(1100px, 85%);
            margin: 40px auto;
            background: var(--card);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, .08);
            padding: 24px 24px 28px;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1.5px solid var(--ring);
            padding-bottom: 12px
        }

        .header h2 {
            margin: 0;
            font-size: 26px;
            letter-spacing: .2px
        }

        .close-btn {
            background: #f44336;
            color: #fff;
            border: 0;
            padding: 10px 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: filter .15s ease
        }

        .close-btn:hover {
            filter: brightness(.95)
        }

        /* Tabs */
        .tabs {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 16px
        }

        .tab {
            padding: 10px 16px;
            font-size: 15px;
            background: #f1f1f1;
            border: 2px solid #ddd;
            border-radius: 999px;
            color: var(--muted);
            cursor: pointer;
            transition: .18s
        }

        .tab.active {
            background: var(--brand-100);
            color: #851212;
            border-color: var(--brand)
        }

        .tab:hover {
            background: #ececec
        }

        /* Content layout */
        .content {
            display: flex;
            gap: 20px;
            margin-top: 20px
        }

        .map {
            flex: 2;
            border-radius: 14px;
            overflow: hidden
        }

        .map iframe {
            width: 100%;
            height: 420px;
            border: 0
        }

        .info {
            flex: 1;
            background: #fafafa;
            border-radius: 14px;
            padding: 16px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, .06)
        }

        /* ===== Gallery (คมขึ้น / ไม่ยืด) ===== */
        .gallery-container {
            position: relative;
            max-width: 100%;
            overflow: hidden;
            border-radius: 14px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, .12);
            aspect-ratio: 16/9;
            /* รักษาสัดส่วนกรอบภาพ */
            background: #000;
            /* เผื่อช่วงโหลด */
        }

        .slides {
            display: flex;
            height: 100%;
            transition: transform .5s ease
        }

        .slides img {
            flex: 0 0 100%;
            /* แต่ละภาพกว้างเท่ากรอบเสมอ */
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* ครอปพอดีกรอบ ไม่ยืด */
            image-rendering: auto;
            /* ปล่อยเบราว์เซอร์เรนเดอร์คุณภาพดีสุด */
            user-select: none;
            pointer-events: none;
            /* ป้องกันลากภาพติดมือเวลาแตะ */
        }

        .gallery-btn {
            position: absolute;
            inset-inline: auto 10px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, .55);
            color: #fff;
            border: none;
            font-size: 22px;
            line-height: 1;
            padding: 9px 12px;
            border-radius: 999px;
            cursor: pointer
        }

        .gallery-btn:focus {
            outline: 3px solid rgba(255, 255, 255, .6)
        }

        .prev {
            left: 10px;
            right: auto
        }

        .next {
            right: 10px
        }

        /* ===== Menu list ===== */
        .menu-dark {
            background: #F2EAD3;
            border-radius: 16px;
            padding: 14px;
            border: 1px solid #ddd;
        }

        .menu-dark h3 {
            margin: 4px 8px 8px;
            font-size: 16px;
            color: #475569
        }

        .drink-list {
            list-style: none;
            margin: 0;
            padding: 8px
        }

        .drink-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--brand);
            border-radius: 14px;
            padding: 16px 18px;
            margin: 10px 0;
            box-shadow: 0 2px 0 rgb(188, 23, 23), inset 0 0 0 1px rgba(255, 255, 255, .08);
            transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
            cursor: pointer
        }

        .drink-item:hover {
            transform: translateY(-1px);
            background: var(--brand-200);
            box-shadow: 0 10px 26px rgba(0, 0, 0, .18), inset 0 0 0 1px rgba(255, 255, 255, .16);
        }

        .drink-name {
            font-size: 17px;
            font-weight: 600;
            color: #f8fafc;
            letter-spacing: .1px
        }

        .price {
            font-weight: 700;
            font-size: 14px;
            color: #e2e8f0;
            padding: 6px 12px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, .35);
            background: rgba(15, 23, 42, .55);
            min-width: 58px;
            text-align: center
        }

        /* Hidden by default */
        .tabpanel {
            display: none
        }

        .tabpanel.active {
            display: block
        }

        /* Responsive */
        @media (max-width: 960px) {
            .content {
                flex-direction: column
            }

            .info {
                order: 2
            }

            .map {
                order: 1
            }
        }
    </style>
</head>

<body>
    <div class="cafe-detail" id="dialog">
        <div class="header">
            <h2>Dessert Cafe</h2>
            <button class="close-btn" id="closeBtn" aria-label="ปิดหน้าต่าง">ปิด</button>
        </div>

        <div class="tabs" role="tablist" aria-label="Cafe sections">
            <button class="tab active" role="tab" aria-selected="true" data-target="jpg-tab">รูปภาพ</button>
            <button class="tab" role="tab" aria-selected="false" data-target="map-tab">แผนที่</button>
            <button class="tab" role="tab" aria-selected="false" data-target="menu-tab">เมนู</button>
            <button class="tab" role="tab" aria-selected="false" data-target="3d-tab">โมเดล 3D</button>
        </div>

        <div class="content">
            <!-- รูปภาพ -->
            <section id="jpg-tab" class="info tabpanel active" role="tabpanel" aria-label="รูปภาพ">
                <div class="gallery-container" id="gallery" tabindex="0" aria-roledescription="carousel"
                    aria-label="แกลเลอรีรูปภาพ">
                    <div class="slides" id="slides">
                        <!-- ตัวอย่าง srcset: สร้างไฟล์ 1200px และ 2400px ตามชื่อด้านล่าง (ถ้าไม่มี ใช้ src อย่างเดียวก็ได้) -->
                        <img src="dessert1.jpg" srcset="Dilly Lazy_1200.jpg 1x, Dilly Lazy_2400.jpg 2x"
                            sizes="(max-width: 960px) 100vw, 600px" alt="บรรยากาศร้าน Dilly Lazy มุมกาแฟ">
                        <img src="Dessert2.jpg" srcset="Dilly Lazy2_1200.jpg 1x, Dilly Lazy2_2400.jpg 2x"
                            sizes="(max-width: 960px) 100vw, 600px" alt="โซนที่นั่งภายในร้าน">
                        <img src="Dessert3.jpg" srcset="Dilly Lazy3_1200.jpg 1x, Dilly Lazy3_2400.jpg 2x"
                            sizes="(max-width: 960px) 100vw, 600px" alt="มุมเสิร์ฟอาหารและเครื่องดื่ม">
                        <img src="Dessert5.jpg" srcset="Dilly Lazy3_1200.jpg 1x, Dilly Lazy3_2400.jpg 2x"
                            sizes="(max-width: 960px) 100vw, 600px" alt="มุมเสิร์ฟอาหารและเครื่องดื่ม">
                    </div>
                    <button class="gallery-btn prev" id="prevBtn" aria-label="รูปก่อนหน้า">❮</button>
                    <button class="gallery-btn next" id="nextBtn" aria-label="รูปถัดไป">❯</button>
                </div>
            </section>

            <!-- แผนที่ -->
            <section id="map-tab" class="map tabpanel" role="tabpanel" aria-label="แผนที่">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3875.7076440563783!2d100.52936231525226!3d13.73671750118957!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x30e29edc4e0d8d15%3A0xd2c44b0b3c52ce7!2sSiam%20Paragon!5e0!3m2!1sth!2sth!4v1695015301234!5m2!1sth!2sth"
                    allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </section>

            <!-- เมนู -->
            <section id="menu-tab" class="info tabpanel" role="tabpanel" aria-label="เมนู">
                <div class="menu-dark">
                    <h3>เมนูเครื่องดื่ม</h3>
                    <ul class="drink-list">
                        <li class="drink-item" data-name="อเมริกาโน่" data-price="55">
                            <span class="drink-name">อเมริกาโน่</span><span class="price">฿55</span>
                        </li>
                        <li class="drink-item" data-name="ลาเต้เย็น" data-price="65">
                            <span class="drink-name">ลาเต้เย็น</span><span class="price">฿65</span>
                        </li>
                        <li class="drink-item" data-name="ชาเขียว" data-price="60">
                            <span class="drink-name">ชาเขียว</span><span class="price">฿60</span>
                        </li>
                        <li class="drink-item" data-name="ครอฟเฟิล" data-price="79">
                            <span class="drink-name">ครอฟเฟิล</span><span class="price">฿79</span>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- 3D -->
            <section id="3d-tab" class="info tabpanel" role="tabpanel" aria-label="โมเดล 3D">
                <p>โมเดล 3D จะมาเร็ว ๆ นี้!</p>
            </section>
        </div>
    </div>

    <script>
        // ===== Tabs logic =====
        const tabButtons = document.querySelectorAll('.tab');
        const tabs = document.querySelectorAll('.tabpanel');
        tabButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                // toggle active states
                tabButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                const targetId = btn.dataset.target;
                tabs.forEach(p => p.classList.toggle('active', p.id === targetId));
                // เมื่อเปิดแท็บรูปภาพ รีโฟกัสเพื่อใช้ลูกศรแป้นพิมพ์ได้
                if (targetId === 'jpg-tab') document.getElementById('gallery')?.focus();
            });
        });

        // ===== Close dialog =====
        document.getElementById('closeBtn').addEventListener('click', () => {
            document.getElementById('dialog').style.display = 'none';
        });
        // ESC ปิด
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') document.getElementById('dialog').style.display = 'none';
        });

        // ===== Gallery logic (ไม่ยืด/ไม่เบลอ) =====
        let currentIndex = 0;
        const slidesEl = document.getElementById('slides');
        const totalSlides = slidesEl.children.length;

        function goTo(idx) {
            currentIndex = (idx + totalSlides) % totalSlides;
            slidesEl.style.transform = `translateX(${-currentIndex * 100}%)`;
        }
        document.getElementById('prevBtn').addEventListener('click', () => goTo(currentIndex - 1));
        document.getElementById('nextBtn').addEventListener('click', () => goTo(currentIndex + 1));

        // รองรับคีย์บอร์ดบนกรอบแกลเลอรี
        document.getElementById('gallery').addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') goTo(currentIndex - 1);
            else if (e.key === 'ArrowRight') goTo(currentIndex + 1);
        });

        // ===== Menu click =====
        document.querySelectorAll('.drink-item').forEach(li => {
            li.addEventListener('click', () => {
                const name = li.dataset.name, price = li.dataset.price;
                alert(`${name} ราคา ฿${price}`);
            });
        });

        // เริ่มต้นแสดงรูปแรก
        goTo(0);
    </script>
</body>

</html>